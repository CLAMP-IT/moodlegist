{% extends "layout.twig" %}

{% block title %}
    {{ title }}
{% endblock %}

{% block content %}
    <p class="mission">This site mirrors the Moodle <a href=
        "https://moodle.org/plugins">Plugins</a> database as a <a href=
        "https://getcomposer.org/">Composer</a> repository.
    </p>

    {% include 'searchbar.twig' %}

    <div class="row">
        <div class="large-6 columns">
            <h3>How do I use it?</h3>

            <ol>
                <li>Add the repository to your <code>composer.json</code></li>

                <li>Add the desired plugins to your requirements using
                <code>moodle-plugin-db</code> as
                the vendor name.</li>

                <li>Run <code>$ composer.phar update</code></li>

                <li>Packages are <a href="https://github.com/composer/installers">
                    installed</a> to the appropriate path in the Moodle root.
                </li>
            </ol>

            <h3>Example</h3>
<pre>{
    "name": "myschool/my-moodle-site",
    "description": "My Moodle site",
<div class="highlighter">"repositories":[
        {
            "type":"composer",
            "url":"https://my-moodlegist-site"
        }
    ],
</div>    "require": {
        "aws/aws-sdk-php":"*",
<div class="highlighter">   "moodle/moodle":"3.0.0",
        "moodle-plugin-db/mod_attendance":"*",
        "moodle-plugin-db/theme_essential":"*",
</div>    }
}</pre>

            <p>This example <code>composer.json</code> file adds the Moodle Packagist
            repository and includes the latest versions of the Attendance module
            and Essential theme for Moodle 3.0.

            <p>Find out more about <a href=
            "https://getcomposer.org/doc/01-basic-usage.md">using Composer</a>
            including <a href=
            "https://github.com/composer/installers#custom-install-paths">custom
            install paths</a>.</p>

        </div>

        <div class="large-6 columns">
            <h3>Why use Composer?</h3>

            <blockquote class="clearfix">
                &ldquo;Composer is a tool for dependency management in PHP. It
                allows you to declare the dependent libraries your project needs
                and it will install them in your project for you.&rdquo;

                <div class="right">
                    &mdash; <a href=
                    "https://getcomposer.org/doc/00-intro.md">getcomposer.org</a>
                </div>
            </blockquote>

            <ul>
                <li>Avoid committing plugins into source control.</li>

                <li>Avoid having to use git submodules.</li>

                <li>Could eventually be used to manage dependencies between
                plugins.</li>
            </ul>

            <h3>How does the repository work?</h3>

            <ul>
                <li>Downloads plugin information from the Moodle plugins database.
                </li>

                <li>Rebuilds the composer package JSON files.</li>
            </ul>

            <h3>Known issues</h3>

            <ul>
                <li>Requires Composer 1.0.0-alpha7 or more recent</li>

                <li>Version strings which Composer cannot parse are ignored. All
                plugins have at least the trunk build available.</li>

                <li>Themes do not have a trunk version. It is recommended to use
                <code>"*"</code> as the required version.</li>

                <li>Even when packages are present on SVN, they wonâ€™t be available
                if they are not published on <a href="https://wordpress.org/plugins/">wordpress.org</a>.
                Try <a href="{{ app.request.basepath }}/search">searching</a> for your plugin before reporting a
                <a href="https://github.com/outlandishideas/wpackagist/issues/new?title=[Bug]%20">bug</a>.</li>

                <li>You can also check for <a href="https://github.com/outlandishideas/wpackagist/issues">open issues</a>.</li>
            </ul>

            <h3>Moodle Core</h3>

            <p>Not supported.</p>

            <h3>Contribute or get support</h3>

        </div>
    </div>
{% endblock %}
